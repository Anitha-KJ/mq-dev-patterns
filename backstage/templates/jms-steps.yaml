# Each step executes an action, in this case one templates files into the working directory.
- id: fetch-base
  name: Fetch Base
  action: fetch:template
  input:
    url: https://github.com/chughts/mq-dev-patterns/tree/backstage/JMS
    values:
      name: ${{ parameters.name }}

# This step publishes the contents of the working directory to GitHub.
- id: publish
  name: Publish
  action: publish:github
  input:
    allowedHosts: ['github.com', 'github.ibm.com']
    description: This is ${{ parameters.name }}
    repoUrl: ${{ parameters.repoUrl }}
    repoVisibility: ${{ parameters.visibility }}


# The final step is to register our new component in the catalog.
- id: register
  name: Register
  action: catalog:register
  input:
    repoContentsUrl: ${{ steps['publish'].output.repoContentsUrl }}
    catalogInfoPath: '/services/catalog-app.yaml'

